"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/hooks/useOrderbook.js":
/*!***********************************!*\
  !*** ./app/hooks/useOrderbook.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useOrderbook: () => (/* binding */ useOrderbook)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_venueConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/venueConfig */ \"(app-pages-browser)/./app/lib/venueConfig.js\");\n/* harmony import */ var _lib_venueConfig__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lib_venueConfig__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ useOrderbook auto */ var _s = $RefreshSig$();\n\n\n/**\r\n * A custom React Hook to manage WebSocket connections for a real-time order book.\r\n * This version includes a timeout for better error handling.\r\n * @param {string} venue - The current exchange (e.g., 'Bybit').\r\n * @param {string} symbol - The trading symbol (e.g., 'BTCUSDT').\r\n * @returns {object} An object containing bids, asks, and connection status.\r\n */ const useOrderbook = (venue, symbol)=>{\n    _s();\n    const [bids, setBids] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [asks, setAsks] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [lastUpdate, setLastUpdate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const ws = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const dataTimeout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useOrderbook.useEffect\": ()=>{\n            if (!_lib_venueConfig__WEBPACK_IMPORTED_MODULE_1__.VENUE_CONFIG) {\n                return; // Wait for config to load\n            }\n            // --- Reset state for new connection ---\n            setIsLoading(true);\n            setError(null);\n            setBids([]);\n            setAsks([]);\n            if (ws.current) {\n                ws.current.close(); // Close any existing connection\n            }\n            if (dataTimeout.current) {\n                clearTimeout(dataTimeout.current); // Clear any existing timeout\n            }\n            const config = _lib_venueConfig__WEBPACK_IMPORTED_MODULE_1__.VENUE_CONFIG[venue];\n            if (!config) {\n                setError(\"Invalid venue configuration: \".concat(venue));\n                setIsLoading(false);\n                return;\n            }\n            const formattedSymbol = config.symbolFormat(symbol);\n            // --- Establish WebSocket connection ---\n            ws.current = new WebSocket(config.wsUrl);\n            const localBids = new Map();\n            const localAsks = new Map();\n            ws.current.onopen = ({\n                \"useOrderbook.useEffect\": ()=>{\n                    console.log(\"[\".concat(venue, \"] WebSocket Connected. Subscribing to \").concat(formattedSymbol, \"...\"));\n                    ws.current.send(JSON.stringify(config.getSubscribeMsg(formattedSymbol)));\n                    // --- Set a timeout to handle cases where we connect but get no data ---\n                    dataTimeout.current = setTimeout({\n                        \"useOrderbook.useEffect\": ()=>{\n                            setError(\"Connection timed out. No order book data received from \".concat(venue, \" for \").concat(formattedSymbol, \". The symbol may be incorrect or the API may have changed.\"));\n                            setIsLoading(false);\n                        }\n                    }[\"useOrderbook.useEffect\"], 10000); // 10-second timeout\n                }\n            })[\"useOrderbook.useEffect\"];\n            ws.current.onmessage = ({\n                \"useOrderbook.useEffect\": (event)=>{\n                    // --- Log all incoming messages for debugging ---\n                    console.log(\"[\".concat(venue, \" RAW DATA]:\"), event.data);\n                    const data = JSON.parse(event.data);\n                    // Handle subscription success messages or other info\n                    if (data.success === true || data.event && data.event === \"subscribe\") {\n                        console.log(\"[\".concat(venue, \"] Successfully subscribed to \").concat(formattedSymbol));\n                        return; // Don't process this as order data\n                    }\n                    if (data.method === 'heartbeat' || data.event && data.event === 'info') {\n                        if (data.method === 'test') {\n                            ws.current.send(JSON.stringify({\n                                jsonrpc: '2.0',\n                                method: 'public/test',\n                                params: {}\n                            }));\n                        }\n                        return;\n                    }\n                    const newOrders = config.processMessage(data);\n                    if (newOrders) {\n                        // --- If we successfully process data, clear the timeout ---\n                        if (dataTimeout.current) {\n                            clearTimeout(dataTimeout.current);\n                            dataTimeout.current = null;\n                        }\n                        if (newOrders.isSnapshot) {\n                            localBids.clear();\n                            localAsks.clear();\n                        }\n                        const updateOrderBook = {\n                            \"useOrderbook.useEffect.updateOrderBook\": (currentBook, updates)=>{\n                                updates.forEach({\n                                    \"useOrderbook.useEffect.updateOrderBook\": (param)=>{\n                                        let [price, size] = param;\n                                        const priceNum = parseFloat(price);\n                                        const sizeNum = parseFloat(size);\n                                        if (sizeNum === 0) {\n                                            currentBook.delete(priceNum);\n                                        } else {\n                                            currentBook.set(priceNum, sizeNum);\n                                        }\n                                    }\n                                }[\"useOrderbook.useEffect.updateOrderBook\"]);\n                            }\n                        }[\"useOrderbook.useEffect.updateOrderBook\"];\n                        updateOrderBook(localBids, newOrders.bids || []);\n                        updateOrderBook(localAsks, newOrders.asks || []);\n                        const sortedBids = Array.from(localBids.entries()).sort({\n                            \"useOrderbook.useEffect.sortedBids\": (a, b)=>b[0] - a[0]\n                        }[\"useOrderbook.useEffect.sortedBids\"]);\n                        const sortedAsks = Array.from(localAsks.entries()).sort({\n                            \"useOrderbook.useEffect.sortedAsks\": (a, b)=>a[0] - b[0]\n                        }[\"useOrderbook.useEffect.sortedAsks\"]);\n                        setBids(sortedBids);\n                        setAsks(sortedAsks);\n                        setLastUpdate(new Date());\n                        if (isLoading) setIsLoading(false); // Set loading to false on first data receipt\n                    }\n                }\n            })[\"useOrderbook.useEffect\"];\n            ws.current.onerror = ({\n                \"useOrderbook.useEffect\": (err)=>{\n                    console.error(\"[\".concat(venue, \"] WebSocket Error:\"), err);\n                    setError(\"Failed to connect to \".concat(venue, \". Check the browser console for details.\"));\n                    setIsLoading(false);\n                    if (dataTimeout.current) clearTimeout(dataTimeout.current);\n                }\n            })[\"useOrderbook.useEffect\"];\n            ws.current.onclose = ({\n                \"useOrderbook.useEffect\": ()=>{\n                    console.log(\"[\".concat(venue, \"] WebSocket Disconnected\"));\n                    if (dataTimeout.current) clearTimeout(dataTimeout.current);\n                }\n            })[\"useOrderbook.useEffect\"];\n            // Cleanup function\n            return ({\n                \"useOrderbook.useEffect\": ()=>{\n                    if (ws.current) {\n                        ws.current.close();\n                    }\n                    if (dataTimeout.current) {\n                        clearTimeout(dataTimeout.current);\n                    }\n                }\n            })[\"useOrderbook.useEffect\"];\n        }\n    }[\"useOrderbook.useEffect\"], [\n        venue,\n        symbol\n    ]);\n    return {\n        bids,\n        asks,\n        isLoading,\n        error,\n        lastUpdate\n    };\n};\n_s(useOrderbook, \"zutMs+Xy16YYFjatVz7+DFRWuhY=\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VPcmRlcmJvb2suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ29EO0FBQ0Y7QUFFbEQ7Ozs7OztDQU1DLEdBQ00sTUFBTUksZUFBZSxDQUFDQyxPQUFPQzs7SUFDaEMsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdSLCtDQUFRQSxDQUFDLEVBQUU7SUFDbkMsTUFBTSxDQUFDUyxNQUFNQyxRQUFRLEdBQUdWLCtDQUFRQSxDQUFDLEVBQUU7SUFDbkMsTUFBTSxDQUFDVyxXQUFXQyxhQUFhLEdBQUdaLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ2EsT0FBT0MsU0FBUyxHQUFHZCwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNlLFlBQVlDLGNBQWMsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU1pQixLQUFLZiw2Q0FBTUEsQ0FBQztJQUNsQixNQUFNZ0IsY0FBY2hCLDZDQUFNQSxDQUFDO0lBRTNCRCxnREFBU0E7a0NBQUM7WUFDTixJQUFJLENBQUNFLDBEQUFZQSxFQUFFO2dCQUNmLFFBQVEsMEJBQTBCO1lBQ3RDO1lBRUEseUNBQXlDO1lBQ3pDUyxhQUFhO1lBQ2JFLFNBQVM7WUFDVE4sUUFBUSxFQUFFO1lBQ1ZFLFFBQVEsRUFBRTtZQUNWLElBQUlPLEdBQUdFLE9BQU8sRUFBRTtnQkFDWkYsR0FBR0UsT0FBTyxDQUFDQyxLQUFLLElBQUksZ0NBQWdDO1lBQ3hEO1lBQ0EsSUFBSUYsWUFBWUMsT0FBTyxFQUFFO2dCQUNyQkUsYUFBYUgsWUFBWUMsT0FBTyxHQUFHLDZCQUE2QjtZQUNwRTtZQUVBLE1BQU1HLFNBQVNuQiwwREFBWSxDQUFDRSxNQUFNO1lBQ2xDLElBQUksQ0FBQ2lCLFFBQVE7Z0JBQ1RSLFNBQVMsZ0NBQXNDLE9BQU5UO2dCQUN6Q08sYUFBYTtnQkFDYjtZQUNKO1lBQ0EsTUFBTVcsa0JBQWtCRCxPQUFPRSxZQUFZLENBQUNsQjtZQUU1Qyx5Q0FBeUM7WUFDekNXLEdB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QUNScEQsY0FBYyxJQUFJcUQ7d0JBRWxCLElBQUkxRCxXQUFXQyxhQUFhLFFBQVEsNkNBQTZDO29CQUNyRjtnQkFDSjs7WUFFQUssR0FBR0UsT0FBTyxDQUFDbUQsT0FBTzswQ0FBRyxDQUFDQztvQkFDbEJ4QyxRQUFRbEIsS0FBSyxDQUFDLElBQVUsT0FBTlIsT0FBTSx1QkFBcUJrRTtvQkFDN0N6RCxTQUFTLHdCQUE4QixPQUFOVCxPQUFNO29CQUN2Q08sYUFBYTtvQkFDYixJQUFJTSxZQUFZQyxPQUFPLEVBQUVFLGFBQWFILFlBQVlDLE9BQU87Z0JBQzdEOztZQUVBRixHQUFHRSxPQUFPLENBQUNxRCxPQUFPOzBDQUFHO29CQUNqQnpDLFFBQVFDLEdBQUcsQ0FBQyxJQUFVLE9BQU4zQixPQUFNO29CQUN0QixJQUFJYSxZQUFZQyxPQUFPLEVBQUVFLGFBQWFILFlBQVlDLE9BQU87Z0JBQzdEOztZQUVBLG1CQUFtQjtZQUNuQjswQ0FBTztvQkFDSCxJQUFJRixHQUFHRSxPQUFPLEVBQUU7d0JBQ1pGLEdBQUdFLE9BQU8sQ0FBQ0MsS0FBSztvQkFDcEI7b0JBQ0EsSUFBSUYsWUFBWUMsT0FBTyxFQUFFO3dCQUNyQkUsYUFBYUgsWUFBWUMsT0FBTztvQkFDcEM7Z0JBQ0o7O1FBQ0o7aUNBQUc7UUFBQ2Q7UUFBT0M7S0FBTztJQUVsQixPQUFPO1FBQUVDO1FBQU1FO1FBQU1FO1FBQVdFO1FBQU9FO0lBQVc7QUFDdEQsRUFBRTtHQXJJV1giLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcREVMTFxcZ29xdWFudC1vcmRlcmJvb2stYXBwXFxhcHBcXGhvb2tzXFx1c2VPcmRlcmJvb2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFZFTlVFX0NPTkZJRyB9IGZyb20gJy4uL2xpYi92ZW51ZUNvbmZpZyc7XHJcblxyXG4vKipcclxuICogQSBjdXN0b20gUmVhY3QgSG9vayB0byBtYW5hZ2UgV2ViU29ja2V0IGNvbm5lY3Rpb25zIGZvciBhIHJlYWwtdGltZSBvcmRlciBib29rLlxyXG4gKiBUaGlzIHZlcnNpb24gaW5jbHVkZXMgYSB0aW1lb3V0IGZvciBiZXR0ZXIgZXJyb3IgaGFuZGxpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZW51ZSAtIFRoZSBjdXJyZW50IGV4Y2hhbmdlIChlLmcuLCAnQnliaXQnKS5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN5bWJvbCAtIFRoZSB0cmFkaW5nIHN5bWJvbCAoZS5nLiwgJ0JUQ1VTRFQnKS5cclxuICogQHJldHVybnMge29iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgYmlkcywgYXNrcywgYW5kIGNvbm5lY3Rpb24gc3RhdHVzLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHVzZU9yZGVyYm9vayA9ICh2ZW51ZSwgc3ltYm9sKSA9PiB7XHJcbiAgICBjb25zdCBbYmlkcywgc2V0Qmlkc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgICBjb25zdCBbYXNrcywgc2V0QXNrc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gICAgY29uc3QgW2xhc3RVcGRhdGUsIHNldExhc3RVcGRhdGVdID0gdXNlU3RhdGUobnVsbCk7XHJcbiAgICBjb25zdCB3cyA9IHVzZVJlZihudWxsKTtcclxuICAgIGNvbnN0IGRhdGFUaW1lb3V0ID0gdXNlUmVmKG51bGwpO1xyXG5cclxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFWRU5VRV9DT05GSUcpIHtcclxuICAgICAgICAgICAgcmV0dXJuOyAvLyBXYWl0IGZvciBjb25maWcgdG8gbG9hZFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gLS0tIFJlc2V0IHN0YXRlIGZvciBuZXcgY29ubmVjdGlvbiAtLS1cclxuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgICAgc2V0QmlkcyhbXSk7XHJcbiAgICAgICAgc2V0QXNrcyhbXSk7XHJcbiAgICAgICAgaWYgKHdzLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgd3MuY3VycmVudC5jbG9zZSgpOyAvLyBDbG9zZSBhbnkgZXhpc3RpbmcgY29ubmVjdGlvblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGF0YVRpbWVvdXQuY3VycmVudCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoZGF0YVRpbWVvdXQuY3VycmVudCk7IC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lb3V0XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IFZFTlVFX0NPTkZJR1t2ZW51ZV07XHJcbiAgICAgICAgaWYgKCFjb25maWcpIHtcclxuICAgICAgICAgICAgc2V0RXJyb3IoYEludmFsaWQgdmVudWUgY29uZmlndXJhdGlvbjogJHt2ZW51ZX1gKTtcclxuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmb3JtYXR0ZWRTeW1ib2wgPSBjb25maWcuc3ltYm9sRm9ybWF0KHN5bWJvbCk7XHJcblxyXG4gICAgICAgIC8vIC0tLSBFc3RhYmxpc2ggV2ViU29ja2V0IGNvbm5lY3Rpb24gLS0tXHJcbiAgICAgICAgd3MuY3VycmVudCA9IG5ldyBXZWJTb2NrZXQoY29uZmlnLndzVXJsKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBsb2NhbEJpZHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgY29uc3QgbG9jYWxBc2tzID0gbmV3IE1hcCgpO1xyXG5cclxuICAgICAgICB3cy5jdXJyZW50Lm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFske3ZlbnVlfV0gV2ViU29ja2V0IENvbm5lY3RlZC4gU3Vic2NyaWJpbmcgdG8gJHtmb3JtYXR0ZWRTeW1ib2x9Li4uYCk7XHJcbiAgICAgICAgICAgIHdzLmN1cnJlbnQuc2VuZChKU09OLnN0cmluZ2lmeShjb25maWcuZ2V0U3Vic2NyaWJlTXNnKGZvcm1hdHRlZFN5bWJvbCkpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIC0tLSBTZXQgYSB0aW1lb3V0IHRvIGhhbmRsZSBjYXNlcyB3aGVyZSB3ZSBjb25uZWN0IGJ1dCBnZXQgbm8gZGF0YSAtLS1cclxuICAgICAgICAgICAgZGF0YVRpbWVvdXQuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoYENvbm5lY3Rpb24gdGltZWQgb3V0LiBObyBvcmRlciBib29rIGRhdGEgcmVjZWl2ZWQgZnJvbSAke3ZlbnVlfSBmb3IgJHtmb3JtYXR0ZWRTeW1ib2x9LiBUaGUgc3ltYm9sIG1heSBiZSBpbmNvcnJlY3Qgb3IgdGhlIEFQSSBtYXkgaGF2ZSBjaGFuZ2VkLmApO1xyXG4gICAgICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgfSwgMTAwMDApOyAvLyAxMC1zZWNvbmQgdGltZW91dFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHdzLmN1cnJlbnQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIC0tLSBMb2cgYWxsIGluY29taW5nIG1lc3NhZ2VzIGZvciBkZWJ1Z2dpbmcgLS0tXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHt2ZW51ZX0gUkFXIERBVEFdOmAsIGV2ZW50LmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgc3Vic2NyaXB0aW9uIHN1Y2Nlc3MgbWVzc2FnZXMgb3Igb3RoZXIgaW5mb1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzID09PSB0cnVlIHx8IChkYXRhLmV2ZW50ICYmIGRhdGEuZXZlbnQgPT09IFwic3Vic2NyaWJlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7dmVudWV9XSBTdWNjZXNzZnVsbHkgc3Vic2NyaWJlZCB0byAke2Zvcm1hdHRlZFN5bWJvbH1gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gRG9uJ3QgcHJvY2VzcyB0aGlzIGFzIG9yZGVyIGRhdGFcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEubWV0aG9kID09PSAnaGVhcnRiZWF0JyB8fCAoZGF0YS5ldmVudCAmJiBkYXRhLmV2ZW50ID09PSAnaW5mbycpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tZXRob2QgPT09ICd0ZXN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHdzLmN1cnJlbnQuc2VuZChKU09OLnN0cmluZ2lmeSh7IGpzb25ycGM6ICcyLjAnLCBtZXRob2Q6ICdwdWJsaWMvdGVzdCcsIHBhcmFtczoge30gfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBuZXdPcmRlcnMgPSBjb25maWcucHJvY2Vzc01lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIGlmIChuZXdPcmRlcnMpIHtcclxuICAgICAgICAgICAgICAgIC8vIC0tLSBJZiB3ZSBzdWNjZXNzZnVsbHkgcHJvY2VzcyBkYXRhLCBjbGVhciB0aGUgdGltZW91dCAtLS1cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhVGltZW91dC5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRhdGFUaW1lb3V0LmN1cnJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUaW1lb3V0LmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuZXdPcmRlcnMuaXNTbmFwc2hvdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsQmlkcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsQXNrcy5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZU9yZGVyQm9vayA9IChjdXJyZW50Qm9vaywgdXBkYXRlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZXMuZm9yRWFjaCgoW3ByaWNlLCBzaXplXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmljZU51bSA9IHBhcnNlRmxvYXQocHJpY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaXplTnVtID0gcGFyc2VGbG9hdChzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpemVOdW0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCb29rLmRlbGV0ZShwcmljZU51bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Qm9vay5zZXQocHJpY2VOdW0sIHNpemVOdW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHVwZGF0ZU9yZGVyQm9vayhsb2NhbEJpZHMsIG5ld09yZGVycy5iaWRzIHx8IFtdKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZU9yZGVyQm9vayhsb2NhbEFza3MsIG5ld09yZGVycy5hc2tzIHx8IFtdKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRCaWRzID0gQXJyYXkuZnJvbShsb2NhbEJpZHMuZW50cmllcygpKS5zb3J0KChhLCBiKSA9PiBiWzBdIC0gYVswXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRBc2tzID0gQXJyYXkuZnJvbShsb2NhbEFza3MuZW50cmllcygpKS5zb3J0KChhLCBiKSA9PiBhWzBdIC0gYlswXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0Qmlkcyhzb3J0ZWRCaWRzKTtcclxuICAgICAgICAgICAgICAgIHNldEFza3Moc29ydGVkQXNrcyk7XHJcbiAgICAgICAgICAgICAgICBzZXRMYXN0VXBkYXRlKG5ldyBEYXRlKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc0xvYWRpbmcpIHNldElzTG9hZGluZyhmYWxzZSk7IC8vIFNldCBsb2FkaW5nIHRvIGZhbHNlIG9uIGZpcnN0IGRhdGEgcmVjZWlwdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd3MuY3VycmVudC5vbmVycm9yID0gKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbJHt2ZW51ZX1dIFdlYlNvY2tldCBFcnJvcjpgLCBlcnIpO1xyXG4gICAgICAgICAgICBzZXRFcnJvcihgRmFpbGVkIHRvIGNvbm5lY3QgdG8gJHt2ZW51ZX0uIENoZWNrIHRoZSBicm93c2VyIGNvbnNvbGUgZm9yIGRldGFpbHMuYCk7XHJcbiAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGltZW91dC5jdXJyZW50KSBjbGVhclRpbWVvdXQoZGF0YVRpbWVvdXQuY3VycmVudCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd3MuY3VycmVudC5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7dmVudWV9XSBXZWJTb2NrZXQgRGlzY29ubmVjdGVkYCk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGltZW91dC5jdXJyZW50KSBjbGVhclRpbWVvdXQoZGF0YVRpbWVvdXQuY3VycmVudCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYW51cCBmdW5jdGlvblxyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh3cy5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICB3cy5jdXJyZW50LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGFUaW1lb3V0LmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChkYXRhVGltZW91dC5jdXJyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9LCBbdmVudWUsIHN5bWJvbF0pO1xyXG5cclxuICAgIHJldHVybiB7IGJpZHMsIGFza3MsIGlzTG9hZGluZywgZXJyb3IsIGxhc3RVcGRhdGUgfTtcclxufTsiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJWRU5VRV9DT05GSUciLCJ1c2VPcmRlcmJvb2siLCJ2ZW51ZSIsInN5bWJvbCIsImJpZHMiLCJzZXRCaWRzIiwiYXNrcyIsInNldEFza3MiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwibGFzdFVwZGF0ZSIsInNldExhc3RVcGRhdGUiLCJ3cyIsImRhdGFUaW1lb3V0IiwiY3VycmVudCIsImNsb3NlIiwiY2xlYXJUaW1lb3V0IiwiY29uZmlnIiwiZm9ybWF0dGVkU3ltYm9sIiwic3ltYm9sRm9ybWF0IiwiV2ViU29ja2V0Iiwid3NVcmwiLCJsb2NhbEJpZHMiLCJNYXAiLCJsb2NhbEFza3MiLCJvbm9wZW4iLCJjb25zb2xlIiwibG9nIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRTdWJzY3JpYmVNc2ciLCJzZXRUaW1lb3V0Iiwib25tZXNzYWdlIiwiZXZlbnQiLCJkYXRhIiwicGFyc2UiLCJzdWNjZXNzIiwibWV0aG9kIiwianNvbnJwYyIsInBhcmFtcyIsIm5ld09yZGVycyIsInByb2Nlc3NNZXNzYWdlIiwiaXNTbmFwc2hvdCIsImNsZWFyIiwidXBkYXRlT3JkZXJCb29rIiwiY3VycmVudEJvb2siLCJ1cGRhdGVzIiwiZm9yRWFjaCIsInByaWNlIiwic2l6ZSIsInByaWNlTnVtIiwicGFyc2VGbG9hdCIsInNpemVOdW0iLCJkZWxldGUiLCJzZXQiLCJzb3J0ZWRCaWRzIiwiQXJyYXkiLCJmcm9tIiwiZW50cmllcyIsInNvcnQiLCJhIiwiYiIsInNvcnRlZEFza3MiLCJEYXRlIiwib25lcnJvciIsImVyciIsIm9uY2xvc2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useOrderbook.js\n"));

/***/ })

});